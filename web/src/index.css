@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #root {
  height: 100%;
}

body {
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Excel-like colorful headers for JSpreadsheet (v4) */
.jexcel .jexcel_header {
  background: linear-gradient(180deg, #38bdf8 0%, #0ea5e9 100%);
  color: #ffffff;
  font-weight: 600;
  border-right: 1px solid rgba(255,255,255,0.4);
}

/* Row headers styling */
.jexcel .jexcel_row {
  background: #f1f5f9;
  color: #334155;
  font-weight: 600;
  border-right: 1px solid #e2e8f0;
}

/* Header hover/focus states */
.jexcel .jexcel_header:hover,
.jexcel .jexcel_header.selected {
  background: linear-gradient(180deg, #22d3ee 0%, #0ea5e9 100%);
}

/* Frozen columns styling - ensure they stay visible */
.jexcel > tbody > tr > td.jexcel_frozen {
  position: sticky !important;
  left: 0 !important;
  z-index: 2 !important;
  background-color: #fff !important;
}

.jexcel > thead > tr > td.jexcel_frozen {
  position: sticky !important;
  left: 0 !important;
  z-index: 3 !important;
}

/* Style for frozen column separator - dark black right border on பெயர் column */
.jexcel > tbody > tr > td.jexcel_frozen:last-of-type,
.jexcel > thead > tr > td.jexcel_frozen:last-of-type {
  border-right: 3px solid #000000 !important;
}

/* Fallback: target 2nd column (பெயர்) directly */
.jexcel > tbody > tr > td:nth-child(2),
.jexcel > thead > tr > td:nth-child(2) {
  border-right: 3px solid #000000 !important;
}

.jexcel tfoot.column-totals-footer tr > td:nth-child(2) {
  border-right: 3px solid #000000 !important;
}

/* Sticky bottom totals row */
.jexcel tfoot.column-totals-footer {
  position: sticky;
  bottom: 0;
  z-index: 100;
}

.jexcel tfoot.column-totals-footer td {
  border-top: 3px solid #1b5e20;
  box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.15);
}

/* Mobile-specific optimizations */
@media (max-width: 768px) {
  /* Make the main container full width on mobile */
  .p-6 {
    padding: 0.5rem !important;
  }
  
  /* Adjust header for mobile */
  .text-2xl {
    font-size: 1.25rem !important;
  }
  
  /* Make spreadsheet container horizontally scrollable */
  .jexcel_content {
    overflow-x: auto !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Increase minimum column widths for better touch interaction */
  .jexcel > thead > tr > td,
  .jexcel > tbody > tr > td {
    min-width: 80px !important;
    padding: 8px 4px !important;
    font-size: 14px !important;
  }
  
  /* Make date columns wider for better visibility */
  .jexcel > thead > tr > td:nth-child(n+10),
  .jexcel > tbody > tr > td:nth-child(n+10) {
    min-width: 70px !important;
  }
  
  /* Make name column wider */
  .jexcel > thead > tr > td:nth-child(2),
  .jexcel > tbody > tr > td:nth-child(2) {
    min-width: 120px !important;
  }
  
  /* Make fixed columns more readable */
  .jexcel > thead > tr > td:nth-child(-n+9),
  .jexcel > tbody > tr > td:nth-child(-n+9) {
    min-width: 90px !important;
  }
  
  /* Larger touch targets for suggestion buttons */
  .suggestion-box {
    gap: 4px !important;
  }
  
  .suggestion-btn {
    padding: 12px 8px !important;
    font-size: 16px !important;
    min-height: 44px !important;
    border-radius: 6px !important;
  }
  
  /* Ensure table doesn't compress too much */
  .jexcel {
    min-width: 100% !important;
    table-layout: auto !important;
  }
  
  /* Better spacing for mobile buttons */
  .flex.items-center.gap-4 {
    flex-direction: column !important;
    gap: 0.5rem !important;
    align-items: stretch !important;
  }
  
  /* Stack header items vertically on mobile */
  .flex.items-center.justify-between {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 1rem !important;
  }
  
  /* Make buttons more touch-friendly */
  button {
    min-height: 44px !important;
    padding: 8px 16px !important;
    font-size: 14px !important;
  }
  
  /* Ensure totals row scrolls with table */
  .jexcel tfoot.column-totals-footer {
    position: sticky;
    bottom: 0;
  }
  
  .jexcel tfoot.column-totals-footer td {
    min-width: 70px !important;
    padding: 8px 4px !important;
    font-size: 12px !important;
  }
  
  /* First column (row numbers) always visible */
  .jexcel > thead > tr > td:first-child,
  .jexcel > tbody > tr > td:first-child,
  .jexcel tfoot.column-totals-footer td:first-child {
    position: sticky !important;
    left: 0 !important;
    z-index: 10 !important;
    background: inherit !important;
    box-shadow: 2px 0 4px rgba(0,0,0,0.1);
  }
}
